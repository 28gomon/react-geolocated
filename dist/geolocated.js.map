{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 8865a2ac46b641d65d7d","webpack:///./src/index.js","webpack:///./src/components/geolocated.js","webpack:///external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"React\",\"root\":\"React\"}"],"names":[],"mappings":"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","file":"geolocated.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Geolocated\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"Geolocated\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8865a2ac46b641d65d7d\n **/","'use strict';\r\nimport geolocated, {geoPropTypes} from './components/geolocated';\r\nmodule.exports = {geolocated, geoPropTypes};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import React, {Component, PropTypes} from 'react';\r\n\r\nfunction getDisplayName(WrappedComponent) {\r\n    return `Geolocated(${WrappedComponent.displayName || WrappedComponent.name || 'Component'})`;\r\n}\r\n\r\nconst geolocated = ({\r\n    positionOptions = {\r\n        enableHighAccuracy: true,\r\n        maximumAge: 0,\r\n        timeout: Infinity,\r\n    },\r\n    userDecisionTimeout = null,\r\n    geolocationProvider = (typeof (navigator) !== 'undefined' && navigator.geolocation),\r\n} = {}) => (WrappedComponent) => {\r\n    let result = class Geolocated extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                coords: null,\r\n                isGeolocationAvailable: Boolean(geolocationProvider),\r\n                isGeolocationEnabled: true, // be optimistic\r\n                positionError: null,\r\n            };\r\n\r\n            if (userDecisionTimeout) {\r\n                this.userDecisionTimeoutId = setTimeout(() => {\r\n                    this.onPositionError();\r\n                }, userDecisionTimeout);\r\n            }\r\n\r\n            this.onPositionError = this.onPositionError.bind(this);\r\n            this.onPositionSuccess = this.onPositionSuccess.bind(this);\r\n            this.cancelUserDecisionTimeout = this.cancelUserDecisionTimeout.bind(this);\r\n        }\r\n\r\n        cancelUserDecisionTimeout() {\r\n            if (this.userDecisionTimeoutId) {\r\n                clearTimeout(this.userDecisionTimeoutId);\r\n            }\r\n        }\r\n\r\n        onPositionError(positionError) {\r\n            this.cancelUserDecisionTimeout();\r\n            this.setState({\r\n                coords: null,\r\n                isGeolocationAvailable: this.state.isGeolocationAvailable,\r\n                isGeolocationEnabled: false,\r\n                positionError,\r\n            });\r\n        }\r\n\r\n        onPositionSuccess(position) {\r\n            this.cancelUserDecisionTimeout();\r\n            this.setState({\r\n                coords: position.coords,\r\n                isGeolocationAvailable: this.state.isGeolocationAvailable,\r\n                isGeolocationEnabled: true,\r\n                positionError: null,\r\n            });\r\n        }\r\n\r\n        componentDidMount() {\r\n            if (!geolocationProvider || !geolocationProvider.getCurrentPosition) {\r\n                throw new Error('The provided geolocation provider is invalid');\r\n            }\r\n            geolocationProvider.getCurrentPosition(this.onPositionSuccess, this.onPositionError, positionOptions);\r\n        }\r\n\r\n        componentWillUnmount() {\r\n            this.cancelUserDecisionTimeout();\r\n        }\r\n\r\n        render() {\r\n            return <WrappedComponent {...this.state} />;\r\n        }\r\n    };\r\n    result.displayName = getDisplayName(WrappedComponent);\r\n    return result;\r\n};\r\n\r\nexport default geolocated;\r\n\r\nexport const geoPropTypes = {\r\n    coords: PropTypes.shape({\r\n        latitude: PropTypes.number,\r\n        longitude: PropTypes.number,\r\n        altitude: PropTypes.number,\r\n        accuracy: PropTypes.number,\r\n        altitudeAccuracy: PropTypes.number,\r\n        heading: PropTypes.number,\r\n        speed: PropTypes.number,\r\n    }),\r\n    isGeolocationAvailable: PropTypes.bool,\r\n    isGeolocationEnabled: PropTypes.bool,\r\n    positionError: PropTypes.shape({\r\n        code: PropTypes.oneOf([1, 2, 3]),\r\n        message: PropTypes.string,\r\n    }),\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/geolocated.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"React\",\"root\":\"React\"}\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}