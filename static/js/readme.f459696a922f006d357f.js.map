{"version":3,"sources":["/Users/danhomola/repositories/personal/react-geolocated/README.md"],"names":["layoutProps","MDXLayout","MDXContent","components","props","mdxType","parentName","alt","src","isMDXComponent"],"mappings":"uXAYMA,EAAc,GAGdC,EAAY,UACH,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGC,EACF,8BACD,OAAO,YAACH,EAAD,eAAeD,EAAiBI,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAC5E,qBAAG,6BAAGC,WAAW,KAAQ,CACrB,KAAQ,qDACP,mBAAKC,IAAI,eAAeC,IAAI,kEAFjC,IAE2G,6BAAGF,WAAW,KAAQ,CAC7H,KAAQ,sDACP,mBAAKC,IAAI,UAAUC,IAAI,qFAJ5B,IAIyH,6BAAGF,WAAW,KAAQ,CAC3I,KAAQ,mDACP,mBAAKC,IAAI,cAAcC,IAAI,uDANhC,IAM+F,6BAAGF,WAAW,KAAQ,CACjH,KAAQ,wCACP,mBAAKC,IAAI,sBAAsBC,IAAI,sEARxC,IAQsH,6BAAGF,WAAW,KAAQ,CACxI,KAAQ,yDACP,mBAAKC,IAAI,mBAAmBC,IAAI,+FACrC,iBAAQ,CACN,GAAM,+EADR,gEAEoE,6BAAGF,WAAW,MAAS,CACvF,KAAQ,iEADwD,oBAGpE,iBAAQ,CACN,GAAM,QADR,QAGA,uDAAsC,6BAAGA,WAAW,KAAQ,CACxD,KAAQ,uDAD0B,aAAtC,KAGA,iBAAQ,CACN,GAAM,eADR,eAGA,sCAAqB,0BAAYA,WAAW,KAAvB,OAArB,KACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,0CAIL,gEACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,2+CAiDL,iBAAQ,CACN,GAAM,SADR,SAGA,uEACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,qdAiBL,4BAAW,0BAAYA,WAAW,KAAvB,UAAX,8BAA4F,6BAAGA,WAAW,KAAQ,CAC9G,KAAQ,iEADgF,eAA5F,mBAE4C,0BAAYA,WAAW,KAAvB,iBAF5C,yBAE+H,6BAAGA,WAAW,KAAQ,CACjJ,KAAQ,mEADmH,iBAF/H,KAKA,2EACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,gNASL,iBAAQ,CACN,GAAM,aADR,aAGA,2CAA0B,0BAAYA,WAAW,KAAvB,cAA1B,0JAA2O,0BAAYA,WAAW,KAAvB,gBAA3O,sCAA0U,6BAAGA,WAAW,KAAQ,CAC5V,KAAQ,mGACP,0BAAYA,WAAW,KAAvB,kBAFL,4CAE+G,6BAAGA,WAAW,KAAQ,CACjI,KAAQ,kCACP,0BAAYA,WAAW,KAAvB,UAJL,gFAI2I,6BAAGA,WAAW,KAAQ,CAC7J,KAAQ,sGAD+H,wBAJ3I,KAOA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,4YAgBL,iBAAQ,CACN,GAAM,iBADR,iBAGA,4BAAW,0BAAYA,WAAW,KAAvB,cAAX,qDACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,6TAeL,4BAAW,0BAAYA,WAAW,KAAvB,mBAAX,8BAAqG,6BAAGA,WAAW,KAAQ,CACvH,KAAQ,qEADyF,mBAArG,4BAGA,iJAAgI,0BAAYA,WAAW,KAAvB,wBAAhI,gFACA,oCAAmB,0BAAYA,WAAW,KAAvB,uBAAnB,sVACA,uJAAsI,0BAAYA,WAAW,KAAvB,2BAAtI,OAAiN,0BAAYA,WAAW,KAAvB,QAAjN,gBAAkR,0BAAYA,WAAW,KAAvB,OAAlR,qCAAuW,0BAAYA,WAAW,KAAvB,eAAvW,2BAA0b,6BAAGA,WAAW,KAAQ,CAC5c,KAAQ,sHACP,0BAAYA,WAAW,KAAvB,OAFqb,cAA1b,0BAGA,4BAAW,0BAAYA,WAAW,KAAvB,uBAAX,qJACA,4BAAW,0BAAYA,WAAW,KAAvB,kCAAX,2CAAiI,0BAAYA,WAAW,KAAvB,wBAAjI,sBAAwN,0BAAYA,WAAW,KAAvB,QAAxN,iBAA0R,0BAAYA,WAAW,KAAvB,wBAA1R,YAAuW,0BAAYA,WAAW,KAAvB,QAAvW,8IAAsiB,0BAAYA,WAAW,KAAvB,wBAAtiB,UAAinB,0BAAYA,WAAW,KAAvB,SAAjnB,+BAAksB,0BAAYA,WAAW,KAAvB,kCAAlsB,OAAoxB,0BAAYA,WAAW,KAAvB,SAApxB,KACA,iBAAQ,CACN,GAAM,cADR,cAGA,+IACA,uBAAK,gCAAMA,WAAW,OAAU,CAC5B,UAAa,gBADZ,yeAsBL,iBAAQ,CACN,GAAM,mBADR,mBAGA,sBACE,kBAAIA,WAAW,MAAf,mBACA,kBAAIA,WAAW,MAAf,sBACA,kBAAIA,WAAW,MAAf,8BACA,kBAAIA,WAAW,MAAf,sBACA,kBAAIA,WAAW,MAAf,oBAEF,iBAAQ,CACN,GAAM,oBADR,oBAGA,8CAA6B,6BAAGA,WAAW,KAAQ,CAC/C,KAAQ,8BADiB,WAA7B,6EAGA,8CAA6B,6BAAGA,WAAW,KAAQ,CAC/C,KAAQ,6DADiB,+BAA7B,KAGA,iBAAQ,CACN,GAAM,WADR,WAGA,qBAAG,kBAAIA,WAAW,KAAf,oBAAH,gCAAgF,6BAAGA,WAAW,KAAQ,CAClG,KAAQ,uEADoE,WAAhF,uB,+JAOJJ,EAAWO,gBAAiB","file":"static/js/readme.47739f7b.js","sourcesContent":["\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsx mdx */\n\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p><a parentName=\"p\" {...{\n        \"href\": \"http://travis-ci.org/no23reason/react-geolocated\"\n      }}><img alt=\"build status\" src=\"https://secure.travis-ci.org/no23reason/react-geolocated.svg\" /></a>{` `}<a parentName=\"p\" {...{\n        \"href\": \"https://codecov.io/gh/no23reason/react-geolocated\"\n      }}><img alt=\"codecov\" src=\"https://codecov.io/gh/no23reason/react-geolocated/branch/master/graph/badge.svg\" /></a>{` `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.npmjs.com/package/react-geolocated\"\n      }}><img alt=\"npm version\" src=\"https://img.shields.io/npm/v/react-geolocated.svg\" /></a>{` `}<a parentName=\"p\" {...{\n        \"href\": \"http://commitizen.github.io/cz-cli/\"\n      }}><img alt=\"Commitizen friendly\" src=\"https://img.shields.io/badge/commitizen-friendly-brightgreen.svg\" /></a>{` `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/semantic-release/semantic-release\"\n      }}><img alt=\"semantic-release\" src=\"https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg\" /></a></p>\n    <h1 {...{\n      \"id\": \"react-geolocated---reactjs-higher-order-component-for-using-geolocation-api\"\n    }}>{`react-geolocated - React.js Higher-Order Component for using `}<a parentName=\"h1\" {...{\n        \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/Geolocation\"\n      }}>{`Geolocation API`}</a></h1>\n    <h2 {...{\n      \"id\": \"demo\"\n    }}>{`Demo`}</h2>\n    <p>{`Basic demo can be found at the `}<a parentName=\"p\" {...{\n        \"href\": \"https://no23reason.github.io/react-geolocated/demo\"\n      }}>{`demo page`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"basic-usage\"\n    }}>{`Basic Usage`}</h2>\n    <p>{`Install using `}<inlineCode parentName=\"p\">{`npm`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`npm install react-geolocated --save\n`}</code></pre>\n    <p>{`Then use in your application like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import React from \"react\";\nimport { geolocated } from \"react-geolocated\";\n\nclass Demo extends React.Component {\n    render() {\n        return !this.props.isGeolocationAvailable ? (\n            <div>Your browser does not support Geolocation</div>\n        ) : !this.props.isGeolocationEnabled ? (\n            <div>Geolocation is not enabled</div>\n        ) : this.props.coords ? (\n            <table>\n                <tbody>\n                    <tr>\n                        <td>latitude</td>\n                        <td>{this.props.coords.latitude}</td>\n                    </tr>\n                    <tr>\n                        <td>longitude</td>\n                        <td>{this.props.coords.longitude}</td>\n                    </tr>\n                    <tr>\n                        <td>altitude</td>\n                        <td>{this.props.coords.altitude}</td>\n                    </tr>\n                    <tr>\n                        <td>heading</td>\n                        <td>{this.props.coords.heading}</td>\n                    </tr>\n                    <tr>\n                        <td>speed</td>\n                        <td>{this.props.coords.speed}</td>\n                    </tr>\n                </tbody>\n            </table>\n        ) : (\n            <div>Getting the location data&hellip; </div>\n        );\n    }\n}\n\nexport default geolocated({\n    positionOptions: {\n        enableHighAccuracy: false,\n    },\n    userDecisionTimeout: 5000,\n})(Demo);\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"props\"\n    }}>{`Props`}</h2>\n    <p>{`The props passed to the wrapped component are:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`{\n    coords: {\n        latitude,\n        longitude,\n        altitude,\n        accuracy,\n        altitudeAccuracy,\n        heading,\n        speed,\n    },\n    isGeolocationAvailable, // boolean flag indicating that the browser supports the Geolocation API\n    isGeolocationEnabled, // boolean flag indicating that the user has allowed the use of the Geolocation API\n    positionError, // object with the error returned from the Geolocation API call\n}\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`coords`}</inlineCode>{` prop is equivalent to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/Coordinates\"\n      }}>{`Coordinates`}</a>{` object and the `}<inlineCode parentName=\"p\">{`positionError`}</inlineCode>{` is equivalent to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/PositionError\"\n      }}>{`PositionError`}</a>{`.`}</p>\n    <p>{`Additional props the resulting component can take:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`{\n  // callback call on Geolocation API error, takes PositionError as the only argument\n  onError,\n  // callback call on Geolocation API success, takes Position as the only argument\n  onSuccess,\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"proptypes\"\n    }}>{`PropTypes`}</h3>\n    <p>{`Unfortunately, the `}<inlineCode parentName=\"p\">{`geolocated`}</inlineCode>{` HOC cannot add the prop types to the wrapped component directly, as the ESLint will not pick that up. For this reason, prop types are exported as the `}<inlineCode parentName=\"p\">{`geoPropTypes`}</inlineCode>{` object. Using them is simple with `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\"\n      }}><inlineCode parentName=\"a\">{`Object.assign`}</inlineCode></a>{` (or if you already depend on it, lodash `}<a parentName=\"p\" {...{\n        \"href\": \"https://lodash.com/docs#merge\"\n      }}><inlineCode parentName=\"a\">{`merge`}</inlineCode></a>{` function is useful as well), or, if your environment supports it, using the `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.mozilla.org/cs/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\"\n      }}>{`object spread syntax`}</a>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import React from \"react\";\nimport { geolocated, geoPropTypes } from \"react-geolocated\";\n\nclass Demo extends React.Component {\n    // Same as the basic example\n}\n\n// Using Object.assign\nDemo.propTypes = Object.assign({}, Demo.propTypes, geoPropTypes);\n// Using ES6 object spread syntax\nDemo.propTypes = { ...Demo.propTypes, ...geoPropTypes };\n\nexport default geolocated()(Demo);\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"configuration\"\n    }}>{`Configuration`}</h2>\n    <p>{`The `}<inlineCode parentName=\"p\">{`geolocated`}</inlineCode>{` function takes optional configuration parameter:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`{\n    positionOptions: {\n        enableHighAccuracy: true,\n        maximumAge: 0,\n        timeout: Infinity,\n    },\n    watchPosition: false,\n    userDecisionTimeout: null,\n    suppressLocationOnMount: false,\n    geolocationProvider: navigator.geolocation,\n    isOptimisticGeolocationEnabled: true\n}\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`positionOptions`}</inlineCode>{` object corresponds to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/PositionOptions\"\n      }}>{`PositionOptions`}</a>{` of the Geolocation API.`}</p>\n    <p>{`By default the component only sets position once. To watch the user's position and provide live updates to position, set `}<inlineCode parentName=\"p\">{`watchPosition = true`}</inlineCode>{`. The geolocation event handler is unregistered when the component unmounts.`}</p>\n    <p>{`If set, the `}<inlineCode parentName=\"p\">{`userDecisionTimeout`}</inlineCode>{` determines how much time (in miliseconds) we give the user to make the decision whether to allow to share their location or not. In Firefox, if the user declines to use their location, the Geolocation API call does not end with an error. Therefore we want to fallback to the error state if the user declines and the API does not tell us.`}</p>\n    <p>{`The location is obtained when the component mounts by default. If you want to prevent this and get the location later, set the `}<inlineCode parentName=\"p\">{`suppressLocationOnMount`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`true`}</inlineCode>{` and using a `}<inlineCode parentName=\"p\">{`ref`}</inlineCode>{` in the parent component call its `}<inlineCode parentName=\"p\">{`getLocation`}</inlineCode>{` method (see the demo's `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/no23reason/react-geolocated/blob/dcbe587880751519a6ac6adaa6c49780b609e3c2/demo/App.jsx#L14-L21\"\n      }}><inlineCode parentName=\"a\">{`App`}</inlineCode>{` component`}</a>{` for example of this).`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`geolocationProvider`}</inlineCode>{` allows to specify alternative source of the geolocation API. This was added mainly for testing purposes, however feel free to use it if need be.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`isOptimisticGeolocationEnabled`}</inlineCode>{` allows you to set the default value of `}<inlineCode parentName=\"p\">{`isGeolocationEnabled`}</inlineCode>{`. By default it is `}<inlineCode parentName=\"p\">{`true`}</inlineCode>{`, which means `}<inlineCode parentName=\"p\">{`isGeolocationEnabled`}</inlineCode>{` will be `}<inlineCode parentName=\"p\">{`true`}</inlineCode>{` on first render. There may be cases where you don't want to assume that the user will give permission, ie you want the first value to for `}<inlineCode parentName=\"p\">{`isGeolocationEnabled`}</inlineCode>{` to be `}<inlineCode parentName=\"p\">{`false`}</inlineCode>{`. In that case, you can set `}<inlineCode parentName=\"p\">{`isOptimisticGeolocationEnabled`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`false`}</inlineCode>{`.`}</p>\n    <h2 {...{\n      \"id\": \"typescript\"\n    }}>{`TypeScript`}</h2>\n    <p>{`This project ships with type definitions for TypeScript provided. You can use them in your TypeScript files like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import * as React from \"react\";\nimport { GeolocatedProps, geolocated } from \"react-geolocated\";\n\ninterface IDemoProps {\n    label: string;\n}\n\nclass Demo extends React.Component<IDemoProps & GeolocatedProps> {\n    render(): JSX.Element {\n        return (\n            <div>\n                label: {this.props.label}\n                lattitude: {this.props.coords && this.props.coords.latitude}\n            </div>\n        );\n    }\n}\n\nexport default geolocated()(Demo);\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"browser-support\"\n    }}>{`Browser support`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Chrome ≥ 5`}</li>\n      <li parentName=\"ul\">{`Firefox ≥ 3.5`}</li>\n      <li parentName=\"ul\">{`Internet Explorer ≥ 9`}</li>\n      <li parentName=\"ul\">{`Opera ≥ 10.60`}</li>\n      <li parentName=\"ul\">{`Safari ≥ 5`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"acknowledgements\"\n    }}>{`Acknowledgements`}</h2>\n    <p>{`Many thanks belong to `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/mcumpl\"\n      }}>{`@mcumpl`}</a>{` for the original idea for this as well as many suggestions and comments.`}</p>\n    <p>{`This project uses the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/survivejs/react-component-boilerplate\"\n      }}>{`react-component-boilerplate`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"license\"\n    }}>{`License`}</h2>\n    <p><em parentName=\"p\">{`react-geolocated`}</em>{` is available under MIT. See `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/no23reason/react-geolocated/tree/master/LICENSE\"\n      }}>{`LICENSE`}</a>{` for more details.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"],"sourceRoot":""}