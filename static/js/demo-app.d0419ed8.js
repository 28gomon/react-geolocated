(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./demo/App.mdx":function(e,o,t){"use strict";t.r(o);var n=t("./node_modules/@babel/runtime/helpers/esm/extends.js"),i=t("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),a=t("./node_modules/react/index.js"),r=t.n(a),s=t("./node_modules/@mdx-js/react/dist/index.es.js"),c=t("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),l=t("./node_modules/@babel/runtime/helpers/esm/createClass.js"),u=t("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),d=t("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),m=t("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),b=t("./node_modules/@babel/runtime/helpers/esm/inherits.js"),p=t("./node_modules/prop-types/index.js"),h=t.n(p);function f(e){return"Geolocated(".concat(e.displayName||e.name||"Component",")")}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.positionOptions,t=void 0===o?{enableHighAccuracy:!0,maximumAge:0,timeout:1/0}:o,i=e.isOptimisticGeolocationEnabled,s=void 0===i||i,p=e.userDecisionTimeout,h=void 0===p?null:p,v=e.suppressLocationOnMount,j=void 0!==v&&v,E=e.watchPosition,y=void 0!==E&&E,g=e.geolocationProvider,O=void 0===g?"undefined"!==typeof navigator&&navigator.geolocation:g;return function(e){var o=function(o){function i(e){var o;return Object(c.a)(this,i),(o=Object(u.a)(this,Object(d.a)(i).call(this,e))).state={coords:null,isGeolocationAvailable:Boolean(O),isGeolocationEnabled:s,positionError:null},o.isCurrentlyMounted=!1,o.onPositionError=o.onPositionError.bind(Object(m.a)(o)),o.onPositionSuccess=o.onPositionSuccess.bind(Object(m.a)(o)),o.cancelUserDecisionTimeout=o.cancelUserDecisionTimeout.bind(Object(m.a)(o)),o.getLocation=o.getLocation.bind(Object(m.a)(o)),o}return Object(b.a)(i,o),Object(l.a)(i,[{key:"cancelUserDecisionTimeout",value:function(){this.userDecisionTimeoutId&&clearTimeout(this.userDecisionTimeoutId)}},{key:"onPositionError",value:function(e){this.cancelUserDecisionTimeout(),this.isCurrentlyMounted&&this.setState({coords:null,isGeolocationAvailable:this.state.isGeolocationAvailable,isGeolocationEnabled:!1,positionError:e}),this.props.onError&&this.props.onError(e)}},{key:"onPositionSuccess",value:function(e){this.cancelUserDecisionTimeout(),this.isCurrentlyMounted&&this.setState({coords:e.coords,isGeolocationAvailable:this.state.isGeolocationAvailable,isGeolocationEnabled:!0,positionError:null}),this.props.onSuccess&&this.props.onSuccess(e)}},{key:"getLocation",value:function(){var e=this;if(!O||!O.getCurrentPosition||!O.watchPosition)throw new Error("The provided geolocation provider is invalid");var o=(y?O.watchPosition:O.getCurrentPosition).bind(O);h&&(this.userDecisionTimeoutId=setTimeout(function(){e.onPositionError()},h)),this.watchId=o(this.onPositionSuccess,this.onPositionError,t)}},{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,j||this.getLocation()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.cancelUserDecisionTimeout(),y&&O.clearWatch(this.watchId)}},{key:"render",value:function(){return r.a.createElement(e,Object(n.a)({},this.state,this.props))}}]),i}(a.Component);return o.displayName=f(e),o}};v&&v===Object(v)&&Object.isExtensible(v)&&Object.defineProperty(v,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"geolocated",filename:"src/index.js"}});var j={coords:h.a.shape({latitude:h.a.number,longitude:h.a.number,altitude:h.a.number,accuracy:h.a.number,altitudeAccuracy:h.a.number,heading:h.a.number,speed:h.a.number}),isGeolocationAvailable:h.a.bool,isGeolocationEnabled:h.a.bool,positionError:h.a.shape({code:h.a.oneOf([1,2,3]),message:h.a.string}),watchPosition:h.a.bool};"undefined"!==typeof j&&j&&j===Object(j)&&Object.isExtensible(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"geoPropTypes",filename:"src/index.js"}});var E=function(e,o){return"".concat(0|e,"\xb0 ").concat(0|(e<0?e=-e:e)%1*60,"' ").concat(0|60*e%1*60,'" ').concat(function(e,o){return e>0?o?"E":"N":o?"W":"S"}(e,o))},y=v({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})(function(e){return r.a.createElement("div",{style:{fontSize:"large",fontWeight:"bold",margin:"2rem"}},e.isGeolocationAvailable?e.isGeolocationEnabled?e.coords?r.a.createElement("div",null,"You are at"," ",r.a.createElement("span",{className:"coordinate"},E(e.coords.latitude,!1)),","," ",r.a.createElement("span",{className:"coordinate"},E(e.coords.longitude,!0)),e.coords.altitude?r.a.createElement("span",null,", approximately ",e.coords.altitude," meters above sea level"):null,"."):r.a.createElement("div",null,"Getting the location data\u2026"):r.a.createElement("div",null,"Geolocation is not enabled."):r.a.createElement("div",null,"Your browser does not support Geolocation."),!!e.positionError&&r.a.createElement("div",null,r.a.createElement("br",null),"Last position error:",r.a.createElement("pre",null,JSON.stringify(e.positionError))))}),g=function(){var e=Object(a.useRef)();return r.a.createElement("article",{style:{textAlign:"center"}},r.a.createElement(y,{onError:function(e){return console.log(e)},ref:e}),r.a.createElement("button",{className:"pure-button pure-button-primary",onClick:function(){e.current&&e.current.getLocation()},type:"button"},"Get location"))},O=g;g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"App",filename:"demo/App.jsx"}}),t.d(o,"default",function(){return _});var P={},x="wrapper";function _(e){var o=e.components,t=Object(i.a)(e,["components"]);return Object(s.b)(x,Object(n.a)({},P,t,{components:o,mdxType:"MDXLayout"}),Object(s.b)(O,{mdxType:"App"}))}_&&_===Object(_)&&Object.isExtensible(_)&&Object.defineProperty(_,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"demo/App.mdx"}}),_.isMDXComponent=!0}}]);
//# sourceMappingURL=demo-app.cd8d9393f9ea17aaefa7.js.map